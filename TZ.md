
## Задача: собирать метрики из логов nginx кастомного формата,  каждые 10 секунд сбрасывать их в graphite по udp.

Как установить graphite: https://help.ubuntu.ru/wiki/graphite

Дополнительно (опционально): создать prometeus exporer для этих метрик
(стандартно для питона это https://github.com/prometheus/client_python)

## Язык программирования: python3 


## Стиль кодирования (опционально)
Неплохо, если код будет проверку flake8
(Подробней https://habr.com/ru/company/dataart/blog/318776/)
Максимальная длинна функции - по возможности 25 строк  (Это не жесткое 

Код выложить на github.com

Писать в graphite нужно из отдельного потока, можно использовать например threading.Timer или asyncio (напр. aio-timers)
C asynio сложнее и оно здесь может не особо нужно.

Логи поступают скрипту через stdin. Будет примерно так. `tail -F /var/log/nginx/access.log | python metrics.py projectname`
Для теста придумаю чуть поздже

## Формат логов.
Основная задача  в том, что логи могу быть различных форматов. Какой заранее не известен, поэтому нужно уметь вытягивать максимум метрик из того что приходит на вход.


## Метрики в graphite сохранять как 
nginx.<имя сервера>.<имя проекта>.<имя метрики>
<имя сервера> = socket.gethostname()
<имя проекта> = передается перыми параметом скрипта argv[1]. 

Для prometeus использовать подобную схему.
